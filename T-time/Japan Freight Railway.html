<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JR貨物 運行状況</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            color: #1a73e8;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            color: #555;
        }
        .incident-list {
            margin-bottom: 20px;
        }
        .incident-item {
            background-color: #fce8e6;
            border: 1px solid #e74c3c;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 10px;
        }
        .incident-item h3 {
            margin-top: 0;
            color: #e74c3c;
        }
        .train-line {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        .train-line h3 {
            background-color: #e2e8f0;
            margin: 0;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .train-line h3::after {
            content: '+';
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }
        .train-line.active h3::after {
            content: '-';
        }
        .train-list {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
        }
        .train-line.active .train-list {
            max-height: 20000px; /* 十分な高さを確保 */
            padding: 15px;
        }
        .train-item {
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }
        .train-item:last-child {
            border-bottom: none;
        }
        .train-item p {
            margin: 5px 0;
        }
        .status-badge {
            display: inline-block;
            background-color: #f1c40f;
            color: #fff;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }
        .status-badge.停車中 {
            background-color: #3498db;
        }
        .status-badge.着予定 {
            background-color: #9b59b6;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-info">
        <div>
            <h1>JR貨物 運行状況</h1>
        </div>
        <div>
            <p id="company-name"></p>
            <p id="updated-time"></p>
        </div>
    </div>
    
    <div id="status-title"></div>

    <div class="incident-list">
        <h2>輸送障害情報</h2>
        <div id="incidents"></div>
    </div>

    <div id="affected-trains">
        <h2>影響のある貨物列車</h2>
        </div>
    
    <div id="related-files">
        <h2>関連情報</h2>
        </div>

</div>

<script>
    const data = {
      "date": "2025年8月10日",
      "time": "16時現在",
      "company": "日本貨物鉄道株式会社",
      "status_title": "中部、九州、東北、中国地区における輸送障害に伴う列車遅延及び運休について",
      "incidents": [
        {
          "time_period": "2025年8月7日(木)2時18分～8日(金)13時23分",
          "location": "IRいしかわ鉄道線 能美根上(石川県)～あいの風とやま鉄道線 福岡(富山県)駅間",
          "cause": "大雨",
          "impact": "運休・遅れ"
        },
        {
          "time_period": "2025年8月7日(木)6時50分～10日(日)12時00分",
          "location": "鹿児島線 北九州貨物ターミナル駅構内(福岡県)",
          "cause": "輸送障害",
          "impact": "運休・遅れ"
        },
        {
          "time_period": "2025年8月8日(金)10時20分～9日(土)15時47分",
          "location": "羽越線 女鹿(山形県)～下浜(秋田県)駅間",
          "cause": "大雨",
          "impact": "運休・遅れ"
        },
        {
          "time_period": "2025年8月9日(土)21時28分～10日(日)6時05分",
          "location": "山陽線 新山口駅構内(山口県)",
          "cause": "輸送障害",
          "impact": "遅れ"
        },
        {
          "time_period": "2025年8月10日(日)2時09分～2時51分",
          "location": "青い森鉄道線 三戸～目時駅間(青森県)",
          "cause": "鹿と列車の接触",
          "impact": "遅れ"
        }
      ],
      "affected_trains": [
        {
          "line": "東海道・山陽線 下り",
          "trains": [
            {
              "train_number": "6日発98～3098～2071列車",
              "route": "札幌タ→福岡タ",
              "current_location": "上郡",
              "status": "停車中"
            },
            {
              "train_number": "6日発4070～1073列車",
              "route": "仙台タ→福岡タ",
              "current_location": "広島タ",
              "status": "停車中"
            },
            {
              "train_number": "6日発69列車",
              "route": "新座タ→福岡タ",
              "current_location": "新南陽",
              "status": "停車中"
            },
            {
              "train_number": "6日発1053列車",
              "route": "越谷タ→福岡タ",
              "current_location": "新南陽",
              "status": "停車中"
            },
            {
              "train_number": "8日発4066～1067列車",
              "route": "宇都宮タ→広島タ",
              "current_location": "上郡",
              "status": "+1日9時間21分予定"
            },
            {
              "train_number": "8日発5073列車",
              "route": "東京タ→福岡タ",
              "current_location": "備後赤坂",
              "status": "停車中"
            },
            {
              "train_number": "8日発2081列車",
              "route": "大阪タ→福岡タ",
              "current_location": "幡生操",
              "status": "停車中"
            },
            {
              "train_number": "8日発8057列車",
              "route": "名古屋タ→熊本",
              "current_location": "西条",
              "status": "停車中"
            },
            {
              "train_number": "8日発61列車",
              "route": "大阪タ→鳥栖タ",
              "current_location": "岡山タ",
              "status": "停車中"
            },
            {
              "train_number": "8日発3051列車",
              "route": "大阪タ→福岡タ",
              "current_location": "岡山タ",
              "status": "停車中"
            },
            {
              "train_number": "8日発1087列車",
              "route": "百済タ→福岡タ",
              "current_location": "里庄",
              "status": "停車中"
            },
            {
              "train_number": "8日発1065列車",
              "route": "名古屋タ→福岡タ",
              "current_location": "神戸タ",
              "status": "停車中"
            },
            {
              "train_number": "8日発5075列車",
              "route": "新座タ→福岡タ",
              "current_location": "姫路貨物",
              "status": "停車中"
            },
            {
              "train_number": "8日発5053列車",
              "route": "東京タ→福岡タ",
              "current_location": "膳所",
              "status": "停車中"
            },
            {
              "train_number": "8日発5051列車",
              "route": "名古屋タ→福岡タ",
              "current_location": "浜小倉",
              "status": "停車中"
            },
            {
              "train_number": "8日発63列車",
              "route": "東京タ→福岡タ",
              "current_location": "吹田タ",
              "status": "+1日10時間53分着予定"
            },
            {
              "train_number": "8日発1091列車",
              "route": "沼津→福岡タ",
              "current_location": "新倉敷",
              "status": "停車中"
            },
            {
              "train_number": "8日発69列車",
              "route": "新座タ→福岡タ",
              "current_location": "米原操",
              "status": "停車中"
            },
            {
              "train_number": "8日発1053列車",
              "route": "越谷タ→福岡タ",
              "current_location": "吹田タ",
              "status": "停車中"
            },
            {
              "train_number": "8日発4070～1073列車",
              "route": "仙台タ→福岡タ",
              "current_location": "米原操",
              "status": "停車中"
            },
            {
              "train_number": "8日発4068～1059列車",
              "route": "宇都宮タ→福岡タ",
              "current_location": "東福山",
              "status": "停車中"
            },
            {
              "train_number": "9日発1071～71列車",
              "route": "東京タ→鹿児島タ",
              "current_location": "柏原",
              "status": "停車中"
            },
            {
              "train_number": "9日発1055列車",
              "route": "東京タ→福岡タ",
              "current_location": "神戸タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発5075列車",
              "route": "新座タ→福岡タ",
              "current_location": "西明石",
              "status": "停車中"
            },
            {
              "train_number": "9日発1051列車",
              "route": "東京タ→福岡タ",
              "current_location": "笠寺",
              "status": "停車中"
            },
            {
              "train_number": "9日発63列車",
              "route": "東京タ→福岡タ",
              "current_location": "柏原",
              "status": "停車中"
            },
            {
              "train_number": "9日発4066～1067列車",
              "route": "宇都宮タ→広島タ",
              "current_location": "東京タ",
              "status": "停車中"
            }
          ]
        },
        {
          "line": "東海道・山陽線 上り",
          "trains": [
            {
              "train_number": "9日発1052列車",
              "route": "福岡タ→東京タ",
              "current_location": "大竹",
              "status": "停車中"
            },
            {
              "train_number": "9日発4056列車",
              "route": "熊本→名古屋タ",
              "current_location": "徳山",
              "status": "停車中"
            },
            {
              "train_number": "9日発5074列車",
              "route": "福岡タ→東京タ",
              "current_location": "新南陽",
              "status": "停車中"
            },
            {
              "train_number": "9日発1062列車",
              "route": "鹿児島タ→名古屋タ",
              "current_location": "西条",
              "status": "停車中"
            },
            {
              "train_number": "9日発1072列車",
              "route": "鹿児島タ→東京タ",
              "current_location": "西条",
              "status": "停車中"
            },
            {
              "train_number": "9日発5052列車",
              "route": "福岡タ→東京タ",
              "current_location": "岡山タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発8090列車",
              "route": "福岡タ→東京タ",
              "current_location": "東福山",
              "status": "停車中"
            },
            {
              "train_number": "9日発1060列車",
              "route": "福岡タ→名古屋タ",
              "current_location": "神戸タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発2070列車",
              "route": "福岡タ→札幌タ",
              "current_location": "神戸タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発2062列車",
              "route": "福岡タ→東京タ",
              "current_location": "神戸タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発5060列車",
              "route": "福岡タ→東京タ",
              "current_location": "百済タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発62列車",
              "route": "鳥栖タ→東京タ",
              "current_location": "吹田タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発5058列車",
              "route": "福岡タ→宇都宮タ",
              "current_location": "吹田タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発1050列車",
              "route": "福岡タ→東京タ",
              "current_location": "吹田タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発2064列車",
              "route": "福岡タ→東京タ",
              "current_location": "吹田タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発5072列車",
              "route": "福岡タ→東京タ",
              "current_location": "米原操",
              "status": "停車中"
            },
            {
              "train_number": "9日発2066列車",
              "route": "福岡タ→東京タ",
              "current_location": "名古屋タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発1054列車",
              "route": "福岡タ→越谷タ",
              "current_location": "岐阜タ",
              "status": "停車中"
            },
            {
              "train_number": "9日発8094列車",
              "route": "福岡タ→新座タ",
              "current_location": "東京タ",
              "status": "+1日14時間43分着予定"
            },
            {
              "train_number": "9日発1092列車",
              "route": "鹿児島タ→沼津",
              "current_location": "新居町",
              "status": "停車中"
            },
            {
              "train_number": "9日発1056列車",
              "route": "福岡タ→東京タ",
              "current_location": "西浜松",
              "status": "停車中"
            },
            {
              "train_number": "9日発5084列車",
              "route": "広島タ→東京タ",
              "current_location": "横浜羽沢",
              "status": "+1日10時間0分着予定"
            },
            {
              "train_number": "9日発1058列車",
              "route": "福岡タ→札幌タ",
              "current_location": "東大宮",
              "status": "+1日10時間15分着予定"
            },
            {
              "train_number": "10日発8090列車",
              "route": "福岡タ→東京タ",
              "current_location": "戸田",
              "status": "停車中"
            },
            {
              "train_number": "10日発1050列車",
              "route": "福岡タ→東京タ",
              "current_location": "上郡",
              "status": "停車中"
            }
          ]
        },
        {
          "line": "東北線 下り",
          "trains": [
            {
              "train_number": "8日発3054列車",
              "route": "安治川口→札幌タ",
              "current_location": "福島",
              "status": "+1日10時間22分着予定"
            },
            {
              "train_number": "9日発5093列車",
              "route": "新座タ→宇都宮タ",
              "current_location": "東鷲宮",
              "status": "停車中"
            },
            {
              "train_number": "9日発3051列車",
              "route": "梅田貨物→札幌タ",
              "current_location": "黒磯",
              "status": "停車中"
            }
          ]
        }
      ],
      "related_files": [
        {
          "title": "その他輸送情報（PDF）",
          "url": "https://www.jrfreight.co.jp/common/pdf/info/other_info_20250810.pdf"
        },
        {
          "title": "運行状況詳細（PDF）",
          "url": "https://www.jrfreight.co.jp/common/pdf/info/detail_20250810.pdf"
        }
      ]
    };

    // ページコンテンツを生成する既存の関数
    function generateContent() {
        document.getElementById('company-name').textContent = data.company;
        document.getElementById('updated-time').textContent = data.date + ' ' + data.time;
        document.getElementById('status-title').innerHTML = '<h2>' + data.status_title + '</h2>';

        const incidentsList = document.getElementById('incidents');
        incidentsList.innerHTML = '';
        data.incidents.forEach(incident => {
            const incidentItem = document.createElement('div');
            incidentItem.className = 'incident-item';
            incidentItem.innerHTML = `
                <h3>${incident.time_period}</h3>
                <p><strong>区間:</strong> ${incident.location}</p>
                <p><strong>原因:</strong> ${incident.cause}</p>
                <p><strong>影響:</strong> ${incident.impact}</p>
            `;
            incidentsList.appendChild(incidentItem);
        });

        const affectedTrainsDiv = document.getElementById('affected-trains');
        affectedTrainsDiv.innerHTML = '<h2>影響のある貨物列車</h2>';
        data.affected_trains.forEach(line => {
            const trainLineDiv = document.createElement('div');
            trainLineDiv.className = 'train-line';
            trainLineDiv.innerHTML = `
                <h3>${line.line}<span></span></h3>
                <div class="train-list">
                    ${line.trains.map(train => `
                        <div class="train-item">
                            <p><strong>列車番号:</strong> ${train.train_number}</p>
                            <p><strong>区間:</strong> ${train.route}</p>
                            <p><strong>現在地:</strong> ${train.current_location}</p>
                            <p><strong>状況:</strong> <span class="status-badge ${train.status.replace(/\s/g, '')}">${train.status}</span></p>
                        </div>
                    `).join('')}
                </div>
            `;
            affectedTrainsDiv.appendChild(trainLineDiv);
        });

        // アコーディオンメニューのロジック
        document.querySelectorAll('.train-line h3').forEach(header => {
            header.addEventListener('click', () => {
                const trainLine = header.parentElement;
                trainLine.classList.toggle('active');
            });
        });

        const relatedFilesDiv = document.getElementById('related-files');
        relatedFilesDiv.innerHTML = '<h2>関連情報</h2>';
        data.related_files.forEach(file => {
            const fileLink = document.createElement('p');
            fileLink.innerHTML = `<a href="${file.url}">${file.title}</a>`;
            relatedFilesDiv.appendChild(fileLink);
        });
    }

    // 初回ロード時にコンテンツを生成
    document.addEventListener('DOMContentLoaded', generateContent);

    // 15分ごとにページを更新する設定
    // 15分は900,000ミリ秒に相当します
    setInterval(() => {
        location.reload();
    }, 900000);
</script>
</body>
</html>
